# 🚪 Система Контроля Доступа (Access Control System)

JavaFX-приложение для управления доступом пользователей к дверям через карты и права. Реализованы роли **Администратор**, **Охранник** и **Сотрудник**.

---

## ✨ Особенности

*   🔐 **Ролевая модель доступа**: `ADMIN`, `SECURITY`, `EMPLOYEE`
*   🚪 **Управление дверьми**: Добавление, удаление, отслеживание статуса (открыта/закрыта)
*   👨‍💼 **Управление пользователями**: Регистрация, активация, смена ролей
*   🗂️ **Управление правами**: Гибкая настройка прав для ролей на каждую дверь (может открыть/может закрыть)
*   💳 **Карты доступа**: Привязка карт к пользователям с сроком действия
*   📊 **Журналирование**: Полная история всех событий доступа
*   🗃️ **База данных**: Firebird SQL с автоматической инициализацией структуры и начальных данных
*   🖥️ **Графический интерфейс**: Интуитивно понятный UI на JavaFX для каждой роли

---

## 🛠️ Технологический стек

*   **Язык:** `Java 21`
*   **Фреймворк UI:** `JavaFX`
*   **База данных:** `Firebird`
*   **Библиотеки:**
    *   `JDBC` - для работы с БД
    *   `jBCrypt` - для хеширования паролей

---

## 🗄️ Структура базы данных

База данных автоматически инициализируется при первом запуске. Создаются таблицы:
*   `Users` - 👤 Пользователи
*   `Doors` - 🚪 Двери
*   `AccessCards` - 💳 Карты доступа
*   `Permissions` - 📋 Права доступа (связь ролей и дверей)
*   `AccessLogs` - 📊 Журнал событий

---

## 👥 Роли и доступ

| Роль | Логин | Пароль | Возможности |
| :--- | :--- | :--- | :--- |
| **👑 Администратор (ADMIN)** | `admin` | `admin` | Полный контроль над системой: пользователи, двери, права, карты, журнал |
| **🛡️ Охранник (SECURITY)** | `guard` | `guard` | Просмотр логов, управление статусом дверей, просмотр карт и прав |
| **👨‍💼 Сотрудник (EMPLOYEE)** | `employee` | `employee` | Просмотр своего статуса и истории, запрос доступа |

---

## 🚀 Запуск приложения

1.  **Убедитесь, что установлены:**
    *   ☕ **Java 21+** (JDK)
    *   🗄️ **Сервер Firebird** (и запущен)
    *   🎨 **JavaFX SDK** (если не используется встроенный в IDE инструментарий)

2.  **Настройте подключение к БД** (при необходимости):
    Файл: `com/student/db/DBConnection.java`
    *   `URL`: `jdbc:firebirdsql://localhost:3050/your_database_path?encoding=UTF8`
    *   `USER`: `sysdba`
    *   `PASSWORD`: `masterkey`

3.  **Соберите и запустите проект:**
    *   Главный класс для запуска: `com.student.Main`

---

## 📦 Структура проекта

```
src/
├── main/java/com/student/
│   ├── data/            # 🗃️ Data Access Object (DAO) классы
│   │   ├── AccessCardDao.java
│   │   ├── DoorDao.java
│   │   ├── LogDao.java
│   │   ├── PermissionDao.java
│   │   └── UserDao.java
│   ├── db/              # 🗄️ Работа с базой данных
│   │   ├── DBConnection.java
│   │   └── DBInitializer.java
│   ├── model/           # 🧾 Модели данных (POJO)
│   │   ├── AccessCard.java
│   │   ├── Door.java
│   │   ├── Permission.java
│   │   └── User.java
│   ├── services/        # ⚙️ Бизнес-логика (Сервисы)
│   │   ├── AccessCardService.java
│   │   ├── DoorService.java
│   │   ├── LogService.java
│   │   ├── PermissionService.java
│   │   └── UserService.java
│   ├── view/            # 🖥️ JavaFX View (Пользовательский интерфейс)
│   │   ├── AdminView.java
│   │   ├── EmployeeView.java
│   │   ├── LoginView.java
│   │   ├── RegistrationView.java
│   │   └── SecurityView.java
│   └── Main.java        # 🎬 Главный класс приложения
```

---

## 🎮 Использование

1.  **Запустите приложение.**
2.  **Войдите в систему**, используя логин и пароль одной из предустановленных учетных записей.
3.  **В зависимости от роли** вам будет доступна соответствующая панель управления:
    *   **Администратор:** Управление всей системой через вкладки.
    *   **Охранник:** Управление дверьми и просмотр информации.
    *   **Сотрудник:** Просмотр своего статуса и подача запросов.

---

## 📄 Лицензия

Этот проект создан в учебных целях.
